<!DOCTYPE html>
<html>

<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <title>CS 246 - 01 Prove : Individual Assignment</title>
    <link rel="stylesheet" type="text/css" href="../course/css/style.css" />
</head>

<body>
<div id="courseTitle">
    <img class="logo" src="../course/byui.png" />
    <h1>Software Design and Development :: CS 246</h1>
</div>
    <article>
        <h2>01 Prove</h2>
        <p class="subtitle">Learning Java with Three Examples</p>
        <h3>Objectives</h3>
        
        <ul>
            <li><p>Create a Simple Calculator in Java</p></li>
            <li><p>Create a Form Letter in Java</p></li>
            <li>
              <p>Test and Modify an existing Encryption Program</p>
            </li>
        </ul>

        <!--
        <ul>
            <li><p>Create a Java class with a constructor, getters, and setters.</p></li>
            <li><p>Understand how Java objects are passed between functions.</p></li>
            <li><p>Understand how to deal with Java Exceptions.</p></li>
        </ul>
        -->
        <p>The three programs that you will write in this first assignment are intended to be a tutorial of the Java language.  All the steps for coding the solutions can be found in this assignment.  You should follow all the steps and create all three programs as described.  You will need to submit the code that you write.</p>
        <p>Future assignments will not provide all of this specific detail.  You will need to learn to find additional resources online and ask questions to your teacher and peers.  You should also refer to the additional examples and notes provided as support each week.  You can find these examples in the weekly modules within I-Learn.</p>
        
        <p>Before starting this assignment, you should complete the 01 Teach: Team Activity individually and (if teams are established already) as a team to ensure you have IntelliJ working and can do "Hello World".</p>
        
        <p>If you need a good and simple reference manual for Java, consider using the <a href="https://www.w3schools.com/java/default.asp" target="_blank">W3Schools Java Tutorial</a>.</p>
        
        <h3>Problem 1: Simple Calculator</h3>
        
        <p>The purpose of this program is to write a simple four function calculator using two classes.  The first class will be called <code>Calculator</code> and the second class will be called <code>TestCalculator</code>.  The <code>TestCalculator</code> class will have the <code>main</code> function and will be used to test the <code>Calculator</code>.</p>
        
        <ol>
            <li><p>Create a new project in ItelliJ called <code>Calculator</code>.</p></li>
            <li><p>Create a new package inside the <code>src</code> folder of your project.  Use your last name for the package name.</p></li>
            <li><p>Create two new Java Classes in your package called <code>Calculator</code> and <code>TestCalculator</code>. Notice that IntelliJ will put the <code>package</code> statement and the empty class definition in both of the files for you.</p></li>
            <li><p>Our calculator will maintain a current result and do basic math operations.  Here is the summary of what you want in the class:</p></li>
            <table>
                <tr>
                    <th>Member Data / Attributes</th>
                    <th>Data Type</th>
                    <th>Scope</th>
                    <th>Purpose</th>
                </tr>
                <tr>
                    <td>result</td>
                    <td>float</td>
                    <td>private</td>
                    <td>The current result stored in the calculator</td>
                </tr>
            </table>
            <table>
                <tr>
                    <th>Member Functions / Methods</th>
                    <th>Parameters</th>
                    <th>Return Type</th>
                    <th>Scope</th>
                    <th>Purpose</th>
                </tr>
                <tr>
                    <td>add</td>
                    <td>float value</td>
                    <td>void (don't return anything)</td>
                    <td>public</td>
                    <td>Add a value to the current result</td>
                </tr>
                <tr>
                    <td>subtract</td>
                    <td>float value</td>
                    <td>void</td>
                    <td>public</td>
                    <td>Subtract a value from the current result</td>
                </tr>
                <tr>
                    <td>multiply</td>
                    <td>float value</td>
                    <td>void</td>
                    <td>public</td>
                    <td>Multiply a value with the current result</td>
                </tr>
                <tr>
                    <td>divide</td>
                    <td>float value</td>
                    <td>void</td>
                    <td>public</td>
                    <td>Divide a value with the current result.  If the value is 0, then set the result to 0.</td>
                </tr>
                <tr>
                    <td>reset</td>
                    <td>None</td>
                    <td>void</td>
                    <td>public</td>
                    <td>Reset the result back to 0</td>
                </tr>
                <tr>
                    <td>getResult</td>
                    <td>None</td>
                    <td>float</td>
                    <td>public</td>
                    <td>Return a copy of the result</td>
                </tr>                
            </table>
            
            <li><p>In the <code>Calculator</code> class, first write the member data:</p></li>
<pre><code class="Java">	
public class Calculator {
    
    private float result;
    
}
</code></pre> 
            
            <li><p>If there is member data, then you need a constructor to initialize the member data.  Constructors in Java are named the same as the class and should be public.  Create a constructor for the <code>Calculator</code> class after the member data.  Note that <code>0.0f</code> means float and <code>0.0</code> means double.</p></li>
<pre><code class="Java">
    public Calculator() {
        result = 0.0f;
    }
</code></pre> 
            
            <li><p>Implement the <code>add</code>, <code>subtract</code>, <code>multiply</code>, and <code>divide</code> functions described in the table after the constructor.  Note that each parameter includes the data type.  Also note that the return type of the function is also specified.  If the function does not return anything then you use <code>void</code>.  The <code>divide</code> function must use an <code>if</code> statement to ensure you do not try division by zero.</p></li>
<pre><code class="Java">
    public void add(float value) {
        result += value;
    }
    
    public void subtract(float value) {
        result -= value;
    }
    
    public void multiply(float value) {
        result *= value;
    }
    
    public void divide(float value) {
        /* Check for divide by zero */
        if (value == 0.0f) {
            result = 0.0f;
        } else {
            result /= value;
        }
    }
</code></pre>            
            
        <li><p>Implement the <code>reset</code> function.  This function has no inputs.</p></li>
<pre><code class="Java">
    public void reset() {
        result = 0.0f;
    }
</code></pre>  
            
        <li><p>Implement the <code>getResult</code> function.  This is called a getter function and will provide a copy of the private data.   In IntelliJ, you can automatically create this function by going to menu option Code, select Generate, and select Getter.</p></li>
<pre><code class="Java">
    public float getResult() {
        return result;
    }
</code></pre>            
            
        <li><p>Now that you have the <code>Calculator</code> class written, you will write some test code in the <code>TestCalculator</code> class.  Create a <code>main</code> function in the <code>TestCalculator</code> class.</p></li>
<pre><code class="Java">
public class TestCalculator {
    
    public static void main(String[] args) {
        
    } 
}
</code></pre>            
            
        <li><p>In your <code>main</code> function, create a <code>Calculator</code> object using the <code>new</code> keyword.  All objects are created dynamically on the heap in Java.  You don't have to delete them when you are done.  Java will use "garbage collection" to delete unused objects.  The <code>Calculator</code> object variable that you create is holding a reference or pointer to the object.</p></li>
<pre><code class="Java">
    public static void main(String[] args) {
        Calculator calc = new Calculator();
    }
</code></pre>
            
        <li><p>Print out the current result of the calculator by calling the <code>getResult</code> function.</p></li>   
<pre><code class="Java">
    public static void main(String[] args) {
        Calculator calc = new Calculator();
        System.out.println("Result = " + calc.getResult());
    }
</code></pre>
            
        <li><p>Run the program by pressing the green play button in IntelliJ to the left of the <code>main</code> function code.  It should display "Result = 0.0".</p></li>            
        <li><p>Change the code to add 5, multiply by 3, subtract 1, and then divide by 2.  Run it again and you should get "Result = 7.0".</p></li>
<pre><code class="Java">
    public static void main(String[] args) {
        Calculator calc = new Calculator();
        System.out.println("Result = " + calc.getResult());
        calc.add(5.0f);
        calc.multiply(3.0f);
        calc.subtract(1.0f);
        calc.divide(2.0f);
        System.out.println("Result = " + calc.getResult());
    }
</code></pre>           
            
        <li><p>Create a <code>do while</code> loop in your <code>main</code> function (after the code you have already written) to allow the user to select an operation.  The <code>do while</code> loop will keep running until the user selects the exit option.  Reading from the keyboard requires the use of the <code>Scanner</code> class provided by Java.  <code>Scanner</code> allows you to read a line of text.  Notice that when you create the <code>Scanner</code> object, IntelliJ will show an error until you provide the <code>import</code> statement.  Java requires that you specify which libraries you are using. You only have to create the <code>Scanner</code> object once before the loop.  When you ask for values from the user, we need to convert the <code>String</code> to a <code>float</code> using <code>Float.parseFloat</code>.  Note that <code>parseFloat</code> is a static function which is why you don't need a <code>Float</code> object to call it.  Also note that you can not use <code>==</code> to compare strings in Java.  You must use the <code>equals</code> function.</p></li>            
<pre><code class="Java">
import java.util.Scanner;

public class TestCalculator {

    public static void main(String[] args) {
        Calculator calc = new Calculator();
        System.out.println("Result = " + calc.getResult());
        calc.add(5.0f);
        calc.multiply(3.0f);
        calc.subtract(1.0f);
        calc.divide(2.0f);
        System.out.println("Result = " + calc.getResult());

        Scanner scanner = new Scanner(System.in);
        String choice;
        do {
            System.out.println();
            System.out.println("Result = " + calc.getResult());
            System.out.print("Operation (add, subtract, multiply, divide, reset, exit): ");
            choice = scanner.nextLine();
            if (choice.equals("add")) {
                System.out.print("Enter value: ");
                float value = Float.parseFloat(scanner.nextLine());
                calc.add(value);
            } else if (choice.equals("subtract")) {
                System.out.print("Enter value: ");
                float value = Float.parseFloat(scanner.nextLine());
                calc.subtract(value);
            } else if (choice.equals("multiply")) {
                System.out.print("Enter value: ");
                float value = Float.parseFloat(scanner.nextLine());
                calc.multiply(value);
            } else if (choice.equals("divide")) {
                System.out.print("Enter value: ");
                float value = Float.parseFloat(scanner.nextLine());
                calc.divide(value);
            } else if (choice.equals("reset")) {
                calc.reset();
            } else if (choice.equals("exit")) {
                System.out.println("Goodbye!");
            } else {
                System.out.println("Invalid choice.");
            }
        } while (!choice.equals("exit"));
    }
}
</code></pre>
            
        <li><p>Test your code with different inputs to make sure everything works.  Remember to test divide by 0.</p></li>
        </ol>
        
        <h3>Problem 2: Form Letter</h3>
        
        <p>The purpose of this program is to learn how to use a simple data structure called the ArrayList.  The <code>ArrayList</code> is like the <code>Vector</code> in C++ or the <code>list</code> in Python.  When you create an <code>ArrayList</code> (like other data structures in Java) you have to specify what it will hold.  You are going to hold an <code>ArrayList</code> of <code>Account</code> objects.  You will use these <code>Account</code> objects to populate form letters.  This will allow you to demonstrate loops.</p>
        
        <ol>
            <li><p>Create a new project in ItelliJ called <code>FormLetter</code>.</p></li>
            <li><p>Create a new package inside the <code>src</code> folder of your project.  Use your last name for the package name.</p></li>
            <li><p>Create two new Java Classes in your package called <code>Account</code> and <code>LetterGenerator</code>. Notice that IntelliJ will put the <code>package</code> statement and the empty class definition in both of the files for you.</p></li>
            <li><p>The <code>Account</code> Class will contain the following member data.</p></li>
            <table>
                <tr>
                    <th>Member Data / Attributes</th>
                    <th>Data Type</th>
                    <th>Scope</th>
                    <th>Purpose</th>
                </tr>
                <tr>
                    <td>name</td>
                    <td>String</td>
                    <td>private</td>
                    <td>The account holder name</td>
                </tr>
                <tr>
                    <td>lastPurchase</td>
                    <td>String</td>
                    <td>private</td>
                    <td>The name of the last thing purchased</td>
                </tr>
                <tr>
                    <td>daysSincePurchase</td>
                    <td>int</td>
                    <td>private</td>
                    <td>The number of days since the last purchase</td>
                </tr>                
            </table>
            <li><p>Write the member data in the <code>Account</code> class and write a construtor to intialize all the member data.  This time you want the constructor to accept the three pieces of member data as parameters.  Just like the getters, you can use IntelliJ to auto-generate a constructor for the class.  Specify that you want all three parameters <code>name</code>, <code>lastPurchase</code>, and <code>daysSincePurchase</code> to be included in the constructor.  Note the use of the keyword <code>this</code>.  The keyword <code>this</code> is used when you want to refer to your object.  Python used the keyword <code>self</code>.</p></li>
<pre><code class="Java">
public class Account {

    private String name;
    private String lastPurchase;
    private int daysSincePurchase;

    public Account(String name, String lastPurchase, int daysSincePurchase) {
        this.name = name;
        this.lastPurchase = lastPurchase;
        this.daysSincePurchase = daysSincePurchase;
    }
}
</code></pre>  
            <li><p>Using IntelliJ, auto-generate the getters and the setters for the <code>Account</code> class.</p></li>
<pre><code class="Java">
    public String getName() {
        return name;
    }

    public void setName(String name) {
        this.name = name;
    }

    public String getLastPurchase() {
        return lastPurchase;
    }

    public void setLastPurchase(String lastPurchase) {
        this.lastPurchase = lastPurchase;
    }

    public int getDaysSincePurchase() {
        return daysSincePurchase;
    }

    public void setDaysSincePurchase(int daysSincePurchase) {
        this.daysSincePurchase = daysSincePurchase;
    }
</code></pre>     
        <li><p>The <code>LetterGenerator</code> class will have the following member data and member functions:</p></li>
        
        <table>
                <tr>
                    <th>Member Data / Attributes</th>
                    <th>Data Type</th>
                    <th>Scope</th>
                    <th>Purpose</th>
                </tr>
                <tr>
                    <td>accounts</td>
                    <td>ArrayList&lt;Account&gt;</td>
                    <td>private</td>
                    <td>A collection of account objects.</td>
                </tr>
                <tr>
                    <td>formLetter</td>
                    <td>String</td>
                    <td>private</td>
                    <td>A form letter than contains replaceable tags</td>
                </tr>
            </table>
            <table>
                <tr>
                    <th>Member Functions / Methods</th>
                    <th>Parameters</th>
                    <th>Return Type</th>
                    <th>Scope</th>
                    <th>Purpose</th>
                </tr>
                <tr>
                    <td>addAccount</td>
                    <td>nothing</td>
                    <td>void</td>
                    <td>public</td>
                    <td>Prompt the user to enter in account information and then add it to the accounts list.</td>
                </tr>
                <tr>
                    <td>generateLetters</td>
                    <td>nothing</td>
                    <td>void</td>
                    <td>public</td>
                    <td>Generate the letters for each account in the list</td>
                </tr>
            </table>    
            <li><p>Add the member data and provide a constructor that initializes the <code>ArrayList</code> to an empty list and the <code>formLetter</code> to a example letter.  Notice that when you create the <code>ArrayList</code>, IntelliJ will show an error until you provide the <code>import</code> statement.  Java requires that you specify which libraries you are using.</p></li>            
<pre><code class="Java">
import java.util.ArrayList;

public class LetterGenerator {

    private ArrayList&lt;Account&gt; accounts;
    private String formLetter;

    public LetterGenerator() {
        accounts = new ArrayList&lt;Account&gt;();
        formLetter = "Dear [name], its been [days] days since your last purchase " +
                "of the [purchase].  We hope to see you again soon!";
    }
}
</code></pre>            
          <li><p>Implement the <code>addAcccount</code> function.  This function will use a <code>Scanner</code> to read in the information and create an <code>Account</code> object.  You will add the <code>Account</code> object to our <code>accounts</code> list by using the <code>add</code> function.</p></li>  
<pre><code class="Java">
    public void addAccount() {
        Scanner scanner = new Scanner(System.in);
        System.out.print("Enter name: ");
        String name = scanner.nextLine();
        System.out.print("Enter last item purchased: ");
        String item = scanner.nextLine();
        System.out.print("Enter days since last purchase: ");
        int days = Integer.parseInt(scanner.nextLine());

        Account account = new Account(name, item, days);
        accounts.add(account);
    }
</code></pre>
    <li><p>Start the implementation of the <code>generateLetters</code> function.  This function will loop through each account in the accounts list.  The <code>for loop</code> defines a variable called <code>currAccount</code> which will be populated with the individual <code>Account</code> objects in the list. </p></li>
<pre><code class="Java">
    public void generateLetters() {
        for (Account currAccount : accounts) {

        }
    }
</code></pre>    
    <li><p>In the loop, replace "[name]" with the <code>name</code> from <code>currAccount</code>.  To get the <code>name</code> from the <code>currAccount</code>, call the <code>getName</code> function that you created in the <code>Account</code> class.  Do the same for "[days]" and "[purchase]".  Notice that you need to convert the days <code>int</code> to a <code>String</code> using <code>String.valueof</code>.  The <code>String</code> class in Java has lots of functions available to use.  Look in the <a href="https://docs.oracle.com/en/java/javase/15/docs/api/java.base/java/lang/String.html" target="_blank">JavaDoc</a> to see more available functions (good place to bookmark). </p></li>
<pre><code class="Java">
    public void generateLetters() {
        for (Account currAccount : accounts) {
            String letter = formLetter.replace("[name]", currAccount.getName());
            letter = letter.replace("[days]", String.valueOf(currAccount.getDaysSincePurchase()));
            letter = letter.replace("[purchase]", currAccount.getLastPurchase());
            System.out.println(letter);
            System.out.println();
        }
    }
</code></pre>
    <li><p>Create a <code>main</code> function in the <code>LetterGenerator</code> to test out your code.  Call <code>addAccount</code> three times with different information and then call <code>generateLetters</code>.  Check to make sure the form letter is populated properly each time.</p></li>
<pre><code class="Java">
    public static void main(String [] args) {
        LetterGenerator letterGenerator = new LetterGenerator();
        letterGenerator.addAccount();
        letterGenerator.addAccount();
        letterGenerator.addAccount();
        letterGenerator.generateLetters();
    }
</code></pre>    
        </ol>
        <h3>Problem 3: Enryption Code</h3>
        <p>The purpose of this problem is to practice using existing code.  The existing code is a class called <code>NSALoginController</code> which will encrypt and validate passwords.  Your first step will be to copy the code into your project.  In the second step, you will write some test code to make sure the <code>NSALoginController</code> is working.  In the third step, you will modify the <code>NSALoginController</code> to provide for more strict password requirements.

        <h4>Part I - Import Existing Code</h4>

        <ol>
            <li><p>Start by creating a new Project in IntelliJ called <code>NSALogin</code></p></li>
            <li><p>Create a package using your last name.</p></li>
            <li><p>Download <a href="./code/prove/NSALogin-Student.zip">the files for this project</a>.  After unzipping this file, look for <code>NSALoginController.java</code>.  You can drag and drop this file into your package within IntelliJ.  When you do this, it will change the package statement in <code>NSALoginController</code>.  
            <li><p>Browse through the code in the <code>NSALoginController</code> class to see what functions are available.  Consider making a UML diagram to better understand the class.  You don't need to understand how all this code works to do encryption.  Take special note of the <code>hashUserPassword</code> and <code>verifyPassword</code> functions.  You will be testing those in the next section.  Also note that these functions are <code>static</code>.  A <code>static</code> function does not require an object to call.  Also note that each of these functions has <code>throws Exception</code> in the function declaration line.  You will be required to catch these potential exceptions in your test code. </p></li>
            <li><p>The purpose of <code>hashUserPassword</code> is to take a <code>User</code> object (you will need to create that class later), read its password, and generate a salt and encrypted hashed password.  The generated salt is used to encrypt the password.  It will then delete the password for security.  The salted and hashed password are the only things we need to save.</p></li>
            <li><p>The purpose of <code>verifyPassword</code> is to take a <code>User</code> object (with the salt and hashed password still populated along with the password we are testing) and return a <code>boolean</code> indicating whether or not the user's password is correct.</p></li>
        </ol>
        <h4>Part II - Test the EXISTING CODE</h4>
        <ol>
            <li><p>Create a new class called <code>Test</code>.  You will put your <code>main</code> function in here.</p></li>
<pre><code class="Java">
public class Test {

    public static void main(String[] args) {
    }
</code></pre>
             <li><p>Create a new class called <code>User</code>.  The <code>NSALoginController</code> requires that you have a <code>User</code> object with the member data shown in the table below.  Note that the <code>NSALoginController</code> expets these variables (and their getters and setters) to be correctly named.</p></li>       
            <table>
                <tr>
                    <th>Member Data / Attributes</th>
                    <th>Data Type</th>
                    <th>Scope</th>
                    <th>Purpose</th>
                </tr>
                <tr>
                    <td>password</td>
                    <td>String</td>
                    <td>private</td>
                    <td>The raw password from the user</td>
                </tr>
                <tr>
                    <td>salt</td>
                    <td>String</td>
                    <td>private</td>
                    <td>A value generated for the user that provides variation in the hashedpassword generation.  This is done for security.</td>
                </tr>
                <tr>
                    <td>hashedPassword</td>
                    <td>String</td>
                    <td>private</td>
                    <td>The encrypted version of the password generated with the salt.</td>
                </tr>                
            </table> 
            <li><p>Create a constructor that passes in the <code>password</code> and sets the <code>salt</code> and <code>hashedPassword</code> to empty strings.  Use IntelliJ to auto-generate the getters and setters.</p></li>
<pre><code class="Java">
public class User {
    private String password;
    private String salt;
    private String hashedPassword;

    public User(String password) {
        this.password = password;
        this.salt = "";
        this.hashedPassword = "";
    }

    public String getPassword() {
        return password;
    }

    public void setPassword(String password) {
        this.password = password;
    }

    public String getSalt() {
        return salt;
    }

    public void setSalt(String salt) {
        this.salt = salt;
    }

    public String getHashedPassword() {
        return hashedPassword;
    }

    public void setHashedPassword(String hashedPassword) {
        this.hashedPassword = hashedPassword;
    }
}
</code></pre> 
        <li><p>In the <code>main</code> function of the <code>Test</code> class, you will first test the <code>hashUserPassword</code> function in <code>NSALoginController</code>.  You will first need create a <code>User</code> object since both functions require a <code>User</code> object.  You should add some debug code to make sure our user object was created correctly.</p></li>
<pre><code class="Java">
public static void main(String[] args) {
    Scanner scanner = new Scanner(System.in);
    System.out.print("Enter password: ");
    String password = scanner.nextLine();
    User user = new User(password);

    // Only Password should be set at this point
    System.out.println("Password: " + user.getPassword());
    System.out.println("Salt: " + user.getSalt());
    System.out.println("Hashed Password: " + user.getHashedPassword());
}
</code></pre>
        <li><p>Pass the <code>User</code> object to the <code>hashUserPassword</code>.  Since the function might throw an <code>Exception</code>, we are required to <code>catch</code> that potential exception.  If something fails in the <code>try</code> block (e.g. <code>hashUserPassword</code> throws an exception) then execution will be immediately diverted to the <code>catch</code> block.  Again, we should add some debug code to see if the hash operation worked.  Take note that the <code>password</code> should be cleared after the <code>hashUserPassword</code> function is called.</p></li>
<pre><code class="Java">
public static void main(String[] args) {
        Scanner scanner = new Scanner(System.in);
        System.out.print("Enter password: ");
        String password = scanner.nextLine();
        User user = new User(password);

        // Only Password should be set at this point
        System.out.println("Password: " + user.getPassword());
        System.out.println("Salt: " + user.getSalt());
        System.out.println("Hashed Password: " + user.getHashedPassword());
        try {
            // hashUserPassword is a static function (no NSALoginController object needed)
            // This function will set the salt and hashedPassword in the user object
            NSALoginController.hashUserPassword(user);

            // Only salt and hashed password set at this point
            System.out.println("Password: " + user.getPassword());
            System.out.println("Salt: " + user.getSalt());
            System.out.println("Hashed Password: " + user.getHashedPassword());
        }
        catch(Exception e) {
            System.out.println("General Exception: " + e.toString());
        }
}
</code></pre>        
        <li><p>To test the <code>verifyPassword</code>, you will ask the user for their <code>password</code>.  We will add the <code>password</code> into our previously created <code>User</code> object.  That object still has the <code>salt</code> and <code>hashedUserPassword</code> populated.  The <code>verifyPassword</code> function will compare the <code>password</code> with the <code>salt</code> and <code>hashedUserPassword</code> values.  This function can throw an exception too so we will keep it in the <code>try</code> block.  The function also returns a <code>boolean</code>.  If it returns <code>true</code>, then the password matched.</p></li>
<pre><code class="Java">
try {
    // hashUserPassword is a static function (no NSALoginController object needed)
    // This function will set the salt and hashedPassword in the user object
    NSALoginController.hashUserPassword(user);

    // Only salt and hashed password set at this point
    System.out.println("Password: " + user.getPassword());
    System.out.println("Salt: " + user.getSalt());
    System.out.println("Hashed Password: " + user.getHashedPassword());

    // Run a test of the hashed password.
    // Ask the user for the password and set it in the user object
    System.out.print("Enter password: ");
    password = scanner.nextLine();
    user.setPassword(password);

    // verifyPassword will check the password in the user object against the salt
    // and hashed password.
    if (NSALoginController.verifyPassword(user))
    {
        System.out.println("Verified!");
    }
    else
    {
        System.out.println("Not Verified!");
    }
}
catch(Exception e) {
    System.out.println("General Exception: " + e.toString());
}
</code></pre>
        <li><p>Run your code several times to prove that <code>NSALoginController</code> is working properly.</p></li>
        </ol>
        <h4>Part III - Modify the EXISTING CODE</h4>
        <ol>
            <li><p>Once you have proven that the <code>NSALoginController</code> is working, you can now modify it.  You need to change it to require a password length of at least 8 and a requirement to have at least one digit in the password.  We can use the <code>.length</code> property on a <code>String</code> to determine the length.  To determine if there is a digit, we can loop through each letter of the password and use the <code>Character.isDigit</code> function. </p></li>
<pre><code class="Java">
public static void hashUserPassword(User user) throws Exception {
		
    // Get the next random salt value to use for this password
    byte[] salt = getNextSalt();
    char[] password = user.getPassword().toCharArray();

    // Verify password rules:
    // 1) Length at least 8 characters
    // 2) Contain at least one digit
    if (password.length < 8) {
        // Do Something!
    }
    boolean hasDigit = false;
    for (Character c : password) {
        if (Character.isDigit(c)) {
            hasDigit = true;
        }
    }
    if (!hasDigit) {
        // Do Something!
    }
</code></pre>   

    <li><p>If password checking has failed, then we have to exit the function and notify the calling function.  However, recall that this function is throwing exceptions (which we had to catch in our main function).  One solution is to throw a new <code>Exception</code> object.</p></li>
    
<pre><code class="Java">
public static void hashUserPassword(User user) throws Exception {
		
    // Get the next random salt value to use for this password
    byte[] salt = getNextSalt();
    char[] password = user.getPassword().toCharArray();

    // Verify password rules:
    // 1) Length at least 8 characters
    // 2) Contain at least one digit
    if (password.length < 8) {
        throw new Exception("Password must be at least 8 characters long.");
    }
    boolean hasDigit = false;
    for (Character c : password) {
        if (Character.isDigit(c)) {
            hasDigit = true;
        }
    }
    if (!hasDigit) {
        throw new Exception("Password must contain at least 1 digit.");
    }
</code></pre>
    <li><p>In Java, it can be useful to create new exception classes for special scenarios like this one.  Creating your own exception class provides for better readability of the code and allows you to respond to errors less generically.  To create your own exception class, you have to inherit the base <code>Exception</code> class.</p></li>
    <li><p>Create a new class called <code>WeakPasswordException</code>.  When the class is created, modify it to <code>extends</code> the <code>Exception</code> class.  This is how you inherit a base class.</p></li>
<pre><code class="Java">
public class WeakPasswordException extends Exception {

}
</code></pre>
    <li><p>This class will be very simple.  It will not have any member data within it.  You are allowed, but in this case you don't have any need.  The only additional requirement is that you provide a constructor that will pass the customized error message up to the constructor of the <code>Exception</code> base class.  You can call the parent constructor by using <code>super</code>.</p></li>
<pre><code class="Java">
public class WeakPasswordException extends Exception {

    public WeakPasswordException(String errorMessage)
    {
        super(errorMessage);
    }
}
</code></pre>    
    <li><p>With the creation of <code>WeakPasswordException</code>, we can now use it in our <code>hashUserPassword</code> function.  Note you also need to state that you can <code>throws Exception, WeakPasswordException</code>.</p></li>
<pre><code class="Java">
public static void hashUserPassword(User user) throws Exception, WeakPasswordException {
		
    // Get the next random salt value to use for this password
    byte[] salt = getNextSalt();
    char[] password = user.getPassword().toCharArray();

    // Verify password rules:
    // 1) Length at least 8 characters
    // 2) Contain at least one digit
    if (password.length < 8) {
        throw new WeakPasswordException("Password must be at least 8 characters long.");
    }
    boolean hasDigit = false;
    for (Character c : password) {
        if (Character.isDigit(c)) {
            hasDigit = true;
        }
    }
    if (!hasDigit) {
        throw new WeakPasswordException("Password must contain at least 1 digit.");
    }
</code></pre> 
    <li><p>Since this function can throw multiple types of exceptions now, our <code>main</code> function code can list them out separately.  You can have multiple <code>catch</code> blocks in your code for a single <code>try</code> block</p></li>
<pre><code class="Java">
try {
    // Only Password should be set at this point
    System.out.println("Password: " + user.getPassword());
    System.out.println("Salt: " + user.getSalt());
    System.out.println("Hashed Password: " + user.getHashedPassword());

    // hashUserPassword is a static function (no NSALoginController object needed)
    // This function will set the salt and hashedPassword in the user object
    // We expect that the password will be cleared.
    NSALoginController.hashUserPassword(user);

    // Only salt and hashed password set at this point
    System.out.println("Password: " + user.getPassword());
    System.out.println("Salt: " + user.getSalt());
    System.out.println("Hashed Password: " + user.getHashedPassword());

    // Run a test of the hashed password.
    // Ask the user for the password and set it in the user object
    System.out.print("Enter password: ");
    password = scanner.nextLine();
    user.setPassword(password);

    // verifyPassword will check the password in the user object against the salt
    // and hashed password.
    if (NSALoginController.verifyPassword(user)) {
        System.out.println("Verified!");
    }
    else {
        System.out.println("Not Verified!");
    }
}
catch (WeakPasswordException e) {
    System.out.println("Weak Password Error: " + e.getMessage());
}
catch(Exception e) {
    System.out.println("General Exception: " + e.toString());
}
</code></pre>    
    <li><p>Test out your code to make sure that the "Weak Password Error" message is displayed if a weak password is provided by the user.</p></li>
        </ol>

       

        <h3>Submission</h3>
        <p>To submit this assignment (and future individual assignments), you need to use the following procedure:</p>

        <ol>
            <li><p>Upload your code to the "Code Submission" assignment in I-Learn.  You only need to submit your Java files.  You can zip them up or submit them individually.</p></li>
            <li><p>Take a multiple choice, self-evaluation "Assessment" of the functionality in I-Learn.</p></li>
            <li><p>Once you have submitted the assessment, a link to the instructor's solution to this assignment becomes available. You are expected to look through the instructor's code, which is heavily commented to explain why certain choices were made. Keep in mind that this is not the only way to complete the assignment.</p>
            <p>If desired, you can use the instructor's solution to help guide you through completing anything you were not able to finish. Then, you can re-submit the code and multiple choice assessment above, and an average of the two scores will be used. Thus, if you got 80% the first time, but after looking at the instructor's solution, you were able to complete everything for a 100%, your final score will be 90% for that portion.</p></li>

        </ol>

        <p>Please note that the "Code Submission" element does not receive a score itself in the gradebook. It is provided so the instructor can refer to it, but the "score" is attached to the multiple choice self assessment.</p>

        <p>Future assignments will follow this same procedure.</p>

    </article>

   <script src="../course/js/highlight/highlight.pack.js"></script>
   <script>hljs.initHighlightingOnLoad();</script>
</body>

</html>
